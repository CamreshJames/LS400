<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LS400 Blueprint - Camresh-James</title>
    <link rel="shortcut icon" href="icon.png" type="image/x-icon">
    <style>
        :root {
            /* Primary Colors */
            --color-primary: #ff6537;
            --color-primary-light: #ffccbc;
            --color-primary-dark: #ff8a65;
            --color-primary-glow: rgba(255, 171, 145, 0.4);
            --color-primary-shadow: rgba(255, 171, 145, 0.3);
            --color-primary-bright: rgba(255, 171, 145, 0.8);
            --color-primary-subtle: rgba(255, 171, 145, 0.2);

            /* Background Colors */
            --color-bg-darkest: #1a0f0a;
            --color-bg-dark: #2c1810;
            --color-bg-medium: #3e2723;
            --color-bg-light: #4e342e;
            --color-bg-lighter: #5d4037;

            /* Border & Accent Colors */
            --color-border-dark: #6d4c41;
            --color-border-medium: #8d6e63;
            --color-border-light: #a1887f;

            /* Text Colors */
            --color-text-primary: #f5f5f5;
            --color-text-secondary: #e0e0e0;
            --color-text-tertiary: #fff3e0;
            --color-text-muted: #bdbdbd;
            --color-text-legacy: #d7ccc8;

            /* Success/Green Colors */
            --color-success: #81c784;
            --color-success-bg: rgba(129, 199, 132, 0.2);
            --color-success-bg-hover: rgba(129, 199, 132, 0.3);

            /* Transparent Overlays */
            --overlay-dark: rgba(0, 0, 0, 0.8);
            --overlay-medium: rgba(62, 39, 35, 0.95);
            --overlay-light: rgba(93, 64, 55, 0.5);
            --overlay-lighter: rgba(93, 64, 55, 0.3);
            --overlay-subtle: rgba(62, 39, 35, 0.5);
            --overlay-border-hover: rgba(141, 110, 99, 0.5);

            /* Shadow Colors */
            --shadow-dark: rgba(0, 0, 0, 0.7);
            --shadow-medium: rgba(0, 0, 0, 0.6);
            --shadow-light: rgba(0, 0, 0, 0.5);
            --shadow-subtle: rgba(0, 0, 0, 0.4);
            --shadow-very-light: rgba(0, 0, 0, 0.3);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Courier New', monospace;
            background: linear-gradient(135deg, var(--color-bg-medium) 0%, var(--color-bg-light) 50%, var(--color-bg-lighter) 100%);
            color: var(--color-text-primary);
            overflow: hidden;
            height: 100vh;
        }

        .dashboard {
            height: 100vh;
            display: flex;
            flex-direction: column;
            position: relative;
        }

        .header {
            background: linear-gradient(180deg, var(--color-bg-darkest) 0%, var(--color-bg-dark) 50%, var(--color-bg-medium) 100%);
            padding: 25px 40px;
            border-bottom: 5px solid var(--color-border-medium);
            box-shadow: 0 6px 30px var(--shadow-dark);
            position: relative;
            clip-path: polygon(0 0, 100% 0, 98% 100%, 2% 100%);
        }

        .header::before {
            content: '';
            position: absolute;
            top: 10px;
            left: 3%;
            right: 3%;
            height: 3px;
            background: linear-gradient(90deg, transparent, var(--color-border-dark) 20%, var(--color-border-dark) 80%, transparent);
            border-radius: 2px;
        }

        .header::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 0;
            right: 0;
            height: 2px;
            background: linear-gradient(90deg, transparent 10%, var(--color-primary) 30%, var(--color-text-legacy) 50%, var(--color-primary) 70%, transparent 90%);
        }

        .title {
            font-size: 32px;
            font-weight: bold;
            color: var(--color-primary);
            text-shadow: 0 0 20px var(--color-primary-glow), 2px 2px 4px var(--overlay-dark);
            letter-spacing: 6px;
            text-align: center;
        }

        .subtitle {
            font-size: 11px;
            color: var(--color-text-secondary);
            margin-top: 8px;
            letter-spacing: 3px;
            text-align: center;
            text-transform: uppercase;
        }

        .header-vents {
            position: absolute;
            bottom: 15px;
            left: 50px;
            display: flex;
            gap: 8px;
        }

        .vent {
            width: 6px;
            height: 20px;
            background: linear-gradient(180deg, var(--color-bg-light), var(--color-bg-dark));
            border-radius: 1px;
            box-shadow: inset 0 1px 2px var(--shadow-light);
        }

        .viewport {
            flex: 1;
            position: relative;
            overflow: hidden;
            background: var(--color-bg-light);
            box-shadow: inset 0 0 50px var(--shadow-very-light);
            padding: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .content {
            position: relative;
            width: 100%;
            max-width: 1200px;
            height: 100%;
        }

        .section {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, var(--color-bg-medium) 0%, var(--color-bg-light) 100%);
            border: 2px solid var(--color-border-dark);
            border-radius: 8px;
            padding: 30px;
            box-shadow: 0 8px 30px var(--shadow-subtle);
            opacity: 0;
            transform: scale(0.9);
            transition: opacity 0.6s cubic-bezier(0.4, 0, 0.2, 1),
                transform 0.6s cubic-bezier(0.4, 0, 0.2, 1);
            pointer-events: none;
            overflow-y: auto;
        }

        .section::-webkit-scrollbar {
            width: 12px;
        }

        .section::-webkit-scrollbar-track {
            background: var(--overlay-light);
            border-radius: 6px;
            border: 1px solid var(--color-bg-medium);
        }

        .section::-webkit-scrollbar-thumb {
            background: linear-gradient(180deg, var(--color-border-medium) 0%, var(--color-border-dark) 100%);
            border-radius: 6px;
            border: 2px solid var(--color-bg-light);
            box-shadow: inset 0 0 6px var(--shadow-very-light);
        }

        .section::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(180deg, var(--color-border-light) 0%, var(--color-border-medium) 100%);
        }

        .section.active {
            opacity: 1;
            transform: scale(1);
            pointer-events: auto;
        }

        .section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--color-border-medium), var(--color-border-light), var(--color-border-medium));
        }

        .section-title {
            font-size: 20px;
            color: var(--color-primary);
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 1px solid var(--color-border-dark);
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        .layer {
            background: var(--overlay-lighter);
            padding: 15px;
            margin: 10px 0;
            border-left: 4px solid var(--color-border-medium);
            border-radius: 4px;
        }

        .layer-title {
            color: var(--color-text-tertiary);
            font-weight: bold;
            margin-bottom: 8px;
        }

        .item {
            margin: 15px 0;
            padding: 15px;
            background: var(--overlay-subtle);
            border-radius: 4px;
            border-left: 3px solid var(--color-border-light);
        }

        .item-title {
            color: var(--color-primary);
            font-weight: bold;
            margin-bottom: 8px;
        }

        .price {
            color: var(--color-success);
            font-weight: bold;
        }

        .controls {
            position: fixed;
            right: 40px;
            top: 50%;
            transform: translateY(-50%);
            display: flex;
            flex-direction: column;
            gap: 20px;
            z-index: 100;
        }

        .dial-container {
            position: relative;
            width: 120px;
            height: 120px;
        }

        .dial {
            width: 120px;
            height: 120px;
            background: radial-gradient(circle, var(--color-bg-medium) 0%, var(--color-bg-dark) 100%);
            border: 4px solid var(--color-border-medium);
            border-radius: 50%;
            position: relative;
            cursor: pointer;
            box-shadow: 0 8px 30px var(--shadow-medium),
                inset 0 2px 10px var(--shadow-light);
            transition: all 0.3s;
        }

        .dial:hover {
            border-color: var(--color-primary);
            box-shadow: 0 8px 30px var(--color-primary-shadow),
                inset 0 2px 10px var(--shadow-light);
        }

        .dial::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 80%;
            height: 80%;
            transform: translate(-50%, -50%);
            border: 2px solid var(--color-border-dark);
            border-radius: 50%;
        }

        .dial-indicator {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 4px;
            height: 45%;
            background: linear-gradient(180deg, var(--color-primary) 0%, var(--color-primary-dark) 100%);
            transform-origin: bottom center;
            transform: translate(-50%, -100%) rotate(var(--rotation, 0deg));
            border-radius: 2px;
            box-shadow: 0 0 10px var(--shadow-light);
            transition: transform 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .dial-indicator::after {
            content: '';
            position: absolute;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 8px;
            height: 8px;
            background: var(--color-primary);
            border-radius: 50%;
            box-shadow: 0 0 6px var(--color-primary-bright);
        }

        .dial-center {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 30px;
            height: 30px;
            background: radial-gradient(circle, var(--color-border-dark) 0%, var(--color-bg-light) 100%);
            border: 3px solid var(--color-border-medium);
            border-radius: 50%;
            box-shadow: 0 2px 8px var(--shadow-medium);
        }

        .dial-label {
            position: absolute;
            bottom: -35px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 14px;
            color: var(--color-primary);
            letter-spacing: 2px;
            white-space: nowrap;
        }

        .control-btn {
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, var(--color-border-dark) 0%, var(--color-bg-lighter) 100%);
            border: 3px solid var(--color-border-medium);
            border-radius: 50%;
            color: var(--color-primary);
            font-size: 24px;
            cursor: pointer;
            box-shadow: 0 4px 15px var(--shadow-light);
            transition: all 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .control-btn:hover {
            background: linear-gradient(135deg, var(--color-border-medium) 0%, var(--color-border-dark) 100%);
            transform: scale(1.1);
            box-shadow: 0 6px 20px var(--shadow-medium);
        }

        .control-btn:active {
            transform: scale(0.95);
        }

        .ports-panel {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(180deg, var(--color-bg-dark) 0%, var(--color-bg-medium) 100%);
            border-top: 3px solid var(--color-border-medium);
            padding: 20px 30px;
            box-shadow: 0 -4px 20px var(--shadow-light);
            display: flex;
            gap: 20px;
            overflow-x: auto;
            transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 90;
        }

        .ports-panel.hidden {
            transform: translateY(100%);
        }

        .ports-toggle {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            width: 60px;
            height: 30px;
            background: linear-gradient(135deg, var(--color-border-dark) 0%, var(--color-bg-lighter) 100%);
            border: 3px solid var(--color-border-medium);
            border-radius: 15px 15px 0 0;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--color-primary);
            font-size: 18px;
            box-shadow: 0 -4px 15px var(--shadow-light);
            transition: all 0.3s;
            z-index: 95;
        }

        .ports-toggle:hover {
            background: linear-gradient(135deg, var(--color-border-medium) 0%, var(--color-border-dark) 100%);
            height: 35px;
        }

        .ports-toggle.ports-visible {
            bottom: 105px;
        }

        .port {
            min-width: 120px;
            padding: 15px;
            background: var(--overlay-light);
            border: 2px solid var(--color-border-dark);
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
        }

        .port:hover {
            background: var(--overlay-border-hover);
            border-color: var(--color-border-medium);
            transform: translateY(-3px);
        }

        .port.active {
            background: var(--color-primary-subtle);
            border-color: var(--color-primary);
        }

        .port-label {
            font-size: 11px;
            color: var(--color-text-secondary);
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 5px;
        }

        .port-value {
            font-size: 18px;
            color: var(--color-primary);
            font-weight: bold;
        }

        .add-port-btn {
            min-width: 120px;
            padding: 15px;
            background: var(--color-success-bg);
            border: 2px dashed var(--color-success);
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
            color: var(--color-success);
            font-size: 24px;
        }

        .add-port-btn:hover {
            background: var(--color-success-bg-hover);
            transform: scale(1.05);
        }

        .indicator {
            position: absolute;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: var(--overlay-medium);
            padding: 12px 30px;
            border-radius: 25px;
            border: 2px solid var(--color-border-medium);
            font-size: 14px;
            color: var(--color-primary);
            letter-spacing: 2px;
            box-shadow: 0 4px 15px var(--shadow-light);
            z-index: 10;
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: var(--overlay-dark);
            z-index: 200;
            align-items: center;
            justify-content: center;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: linear-gradient(135deg, var(--color-bg-medium) 0%, var(--color-bg-light) 100%);
            padding: 30px;
            border-radius: 10px;
            border: 3px solid var(--color-border-medium);
            max-width: 400px;
            width: 90%;
        }

        .modal-title {
            color: var(--color-primary);
            font-size: 18px;
            margin-bottom: 20px;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        .modal-input {
            width: 100%;
            padding: 12px;
            margin: 10px 0;
            background: var(--overlay-light);
            border: 2px solid var(--color-border-dark);
            border-radius: 4px;
            color: var(--color-text-primary);
            font-family: 'Courier New', monospace;
        }

        .modal-input::placeholder {
            color: var(--color-text-muted);
        }

        .modal-btn {
            padding: 12px 24px;
            background: linear-gradient(135deg, var(--color-border-dark) 0%, var(--color-bg-lighter) 100%);
            border: 2px solid var(--color-border-medium);
            border-radius: 4px;
            color: var(--color-primary);
            cursor: pointer;
            margin: 5px;
            transition: all 0.2s;
        }

        .modal-btn:hover {
            background: linear-gradient(135deg, var(--color-border-medium) 0%, var(--color-border-dark) 100%);
        }

        .toast {
            position: fixed;
            top: 120px;
            right: -400px;
            background: linear-gradient(135deg, var(--color-bg-medium) 0%, var(--color-bg-light) 100%);
            border: 2px solid var(--color-border-medium);
            border-radius: 8px;
            padding: 20px 25px;
            box-shadow: 0 8px 30px var(--shadow-medium);
            z-index: 300;
            transition: right 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            min-width: 300px;
            max-width: 400px;
        }

        .toast.show {
            right: 30px;
        }

        .toast-title {
            color: var(--color-primary);
            font-size: 14px;
            font-weight: bold;
            margin-bottom: 8px;
            letter-spacing: 1px;
            text-transform: uppercase;
        }

        .toast-message {
            color: var(--color-text-primary);
            font-size: 13px;
            line-height: 1.5;
        }

        .toast::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            bottom: 0;
            width: 4px;
            background: linear-gradient(180deg, var(--color-primary) 0%, var(--color-primary-dark) 100%);
            border-radius: 8px 0 0 8px;
        }
    </style>
</head>

<body>
    <div class="dashboard">
        <div class="header">
            <div class="header-vents">
                <div class="vent"></div>
                <div class="vent"></div>
                <div class="vent"></div>
                <div class="vent"></div>
                <div class="vent"></div>
            </div>
            <div class="title">LS400 BLUEPRINT</div>
            <div class="subtitle">CAMRESH-JAMES v1.0</div>
        </div>

        <div class="viewport">
            <div class="indicator">SECTION: <span id="current-section">1/7</span></div>
            <div class="content" id="content">
                <div class="section" data-section="1">
                    <div class="section-title">Architectural Layers</div>
                    <div class="layer">
                        <div class="layer-title">01 // Powertrain Core</div>
                        <div>Preserve 1UZ, full refresh</div>
                    </div>
                    <div class="layer">
                        <div class="layer-title">02 // Charging & Ignition</div>
                        <div>Upgrade alternator, rebuild starter, replace aging caps</div>
                    </div>
                    <div class="layer">
                        <div class="layer-title">03 // Braking & Steering</div>
                        <div>Refresh master cylinder, brake lines, PS hoses</div>
                    </div>
                    <div class="layer">
                        <div class="layer-title">04 // Electrical Hygiene</div>
                        <div>Local OBD logger, new engine wiring connectors, fuse/relay panel tidy</div>
                    </div>
                    <div class="layer">
                        <div class="layer-title">05 // Tires & Chassis</div>
                        <div>Modern tires that keep vintage ride but grip safely</div>
                    </div>
                    <div class="layer">
                        <div class="layer-title">06 // Modern Conveniences</div>
                        <div>Hidden double-DIN head unit, warm LED interior bulbs</div>
                    </div>
                    <div class="layer">
                        <div class="layer-title">07 // Documentation & Tooling</div>
                        <div>Printed wiring map + small diagnostic kit</div>
                    </div>
                </div>

                <div class="section" data-section="2">
                    <div class="section-title">Full Mechanical Service</div>
                    <div class="item">
                        <div class="item-title">What</div>
                        <div>Valve cover gaskets, oil + filter, coolant flush, belts, water pump inspection, spark
                            plugs, valve adjustment if needed, cam/crank seal check</div>
                    </div>
                    <div class="item">
                        <div class="item-title">Why</div>
                        <div>Prevents oil contamination and overheating; retains the 1UZ's longevity</div>
                    </div>
                    <div class="item">
                        <div class="item-title">Priority</div>
                        <div>Non-optional foundation work</div>
                    </div>
                </div>

                <div class="section" data-section="3">
                    <div class="section-title">ECU & Electronics Stabilization</div>
                    <div class="item">
                        <div class="item-title">What</div>
                        <div>Replace electrolytic capacitors on ECU. Inspect ECU connectors and ground points. Fit small
                            weatherproof fused relay panel</div>
                    </div>
                    <div class="item">
                        <div class="item-title">Cost</div>
                        <div class="price">KSh 3,000 - 8,000</div>
                    </div>
                    <div class="item">
                        <div class="item-title">Why</div>
                        <div>Prevents intermittent ECU failures and electrical gremlins. Very low system intrusion.
                            Local electronics shop can handle this.</div>
                    </div>
                </div>

                <div class="section" data-section="4">
                    <div class="section-title">Power & Charging System</div>
                    <div class="item">
                        <div class="item-title">Alternator Upgrade</div>
                        <div>New/reconditioned Denso alternator (OE spec or slightly higher output)</div>
                        <div class="price">KSh 7,500 - 20,000</div>
                    </div>
                    <div class="item">
                        <div class="item-title">Starter + Wiring</div>
                        <div>Replace starter if slow. New thick ground strap between engine & chassis. Clean battery
                            terminals. Replace battery if older than 4 years</div>
                        <div class="price">KSh 4,000 - 12,000</div>
                    </div>
                    <div class="item">
                        <div class="item-title">Why</div>
                        <div>Modern accessories need reliable charge. Starter access is annoying on LS - do it once and
                            keep it solid.</div>
                    </div>
                </div>

                <div class="section" data-section="5">
                    <div class="section-title">Brakes, Steering & Suspension</div>
                    <div class="item">
                        <div class="item-title">Brake Master Cylinder</div>
                        <div>Replace master cylinder (LS430/Mazda compatible upgrade available). New brake fluid.
                            Inspect ABS sensors/lines</div>
                        <div class="price">KSh 5,000 - 20,000</div>
                    </div>
                    <div class="item">
                        <div class="item-title">Steering & Suspension</div>
                        <div>Replace high-pressure PS hoses if perished. Inspect power steering pump. Renew critical
                            suspension bushings for crispness</div>
                    </div>
                    <div class="item">
                        <div class="item-title">Tires</div>
                        <div>Four modern, quality tyres (225/55R16). Mid-premium to maintain vintage ride</div>
                        <div class="price">KSh 34,000 - 78,000 (set of 4)</div>
                    </div>
                </div>

                <div class="section" data-section="6">
                    <div class="section-title">Diagnostics & Modern Comforts</div>
                    <div class="item">
                        <div class="item-title">OBD-II Diagnostics</div>
                        <div>ELM327-style OBD-II dongle (Bluetooth or Wi-Fi) + phone app (Torque, OBD Fusion). Keep
                            hardware code reader and printed DTC table</div>
                        <div class="price">KSh 700 - 2,500</div>
                        <div>Gives live telemetry and codes without vendor lock-in. Log RPM, coolant temp, lambda,
                            throttle, timing advance locally.</div>
                    </div>
                    <div class="item">
                        <div class="item-title">Hidden Head Unit</div>
                        <div>Double-DIN Pioneer/Android unit behind period fascia for Bluetooth + navigation</div>
                        <div class="price">KSh 25,000 - 36,000</div>
                    </div>
                    <div class="item">
                        <div class="item-title">Interior Lighting</div>
                        <div>Warm LED sets for dome/footwell</div>
                        <div class="price">KSh 1,000 - 3,000</div>
                    </div>
                </div>

                <div class="section" data-section="7">
                    <div class="section-title">Total Budget & Work Sequence</div>
                    <div class="item">
                        <div class="item-title">Project Cost (excluding purchase)</div>
                        <div class="price">KSh 70,000 - 240,000</div>
                        <div>Varies by new vs reconditioned parts and tyre choice</div>
                    </div>
                    <div class="item">
                        <div class="item-title">LS400 Purchase Price</div>
                        <div class="price">KSh 600,000 - 2,200,000</div>
                        <div>Wide range - verify condition, compression numbers, service receipts</div>
                    </div>
                    <div class="item">
                        <div class="item-title">Priority Sequence</div>
                        <div>1. Buy clean LS400 → 2. Immediate consumables → 3. Alternator + battery + ground → 4. ECU
                            caps + starter → 5. Brake master cylinder → 6. Tyres → 7. Diagnostics logger → 8. Head unit
                            + LEDs → 9. Document everything</div>
                    </div>
                    <div class="item">
                        <div class="item-title">Final Build (Recommended)</div>
                        <div>Well-maintained early-to-mid-90s LS400, full mechanical refresh, new Denso alternator, ECU
                            cap rebuild, ELM327 logger, hidden Pioneer double-DIN, mid-tier modern tyres. Total ~KSh
                            150k (median) plus purchase price. Result: truly analog flagship that's quietly smart and
                            locally serviceable.</div>
                    </div>
                </div>
            </div>
        </div>

        <div class="controls">
            <div class="dial-container">
                <div class="dial" id="dial">
                    <div class="dial-indicator" id="dial-indicator"></div>
                    <div class="dial-center"></div>
                </div>
                <div class="dial-label">NAVIGATE</div>
            </div>
            <button class="control-btn" id="btn-home" title="Home" style="font-size: 20px;">⌂</button>
        </div>

        <div class="ports-toggle" id="ports-toggle">▼</div>

        <div class="ports-panel" id="ports-panel">
            <div class="port active" data-port="diagnostics">
                <div class="port-label">Diagnostics</div>
                <div class="port-value">OBD-II</div>
            </div>
            <div class="port" data-port="power">
                <div class="port-label">Power</div>
                <div class="port-value">DENSO</div>
            </div>
            <div class="port" data-port="audio">
                <div class="port-label">Audio</div>
                <div class="port-value">2-DIN</div>
            </div>
            <div class="add-port-btn" id="add-port">+</div>
        </div>
    </div>

    <div class="toast" id="toast">
        <div class="toast-title" id="toast-title">System Message</div>
        <div class="toast-message" id="toast-message"></div>
    </div>

    <div class="modal" id="port-modal">
        <div class="modal-content">
            <div class="modal-title">Add System Port</div>
            <input type="text" class="modal-input" id="port-name" placeholder="Port Name (e.g., Camera)">
            <input type="text" class="modal-input" id="port-value" placeholder="Port Value (e.g., REAR-CAM)">
            <div>
                <button class="modal-btn" id="save-port">Add Port</button>
                <button class="modal-btn" id="cancel-port">Cancel</button>
            </div>
        </div>
    </div>

    <script>
        const content = document.getElementById('content');
        const sections = document.querySelectorAll('.section');
        const currentSectionDisplay = document.getElementById('current-section');
        const dial = document.getElementById('dial');
        const dialIndicator = document.getElementById('dial-indicator');
        const btnHome = document.getElementById('btn-home');
        const portsPanel = document.getElementById('ports-panel');
        const addPortBtn = document.getElementById('add-port');
        const portModal = document.getElementById('port-modal');
        const savePortBtn = document.getElementById('save-port');
        const cancelPortBtn = document.getElementById('cancel-port');
        const portNameInput = document.getElementById('port-name');
        const portValueInput = document.getElementById('port-value');
        const portsToggle = document.getElementById('ports-toggle');
        const toast = document.getElementById('toast');
        const toastTitle = document.getElementById('toast-title');
        const toastMessage = document.getElementById('toast-message');

        let currentSection = 0;
        const totalSections = sections.length;
        let isDragging = false;
        let startAngle = 0;
        let currentRotation = 0;
        let portsVisible = true;

        function showToast(title, message, duration = 3000) {
            toastTitle.textContent = title;
            toastMessage.textContent = message;
            toast.classList.add('show');

            setTimeout(() => {
                toast.classList.remove('show');
            }, duration);
        }

        portsToggle.addEventListener('click', () => {
            portsVisible = !portsVisible;
            if (portsVisible) {
                portsPanel.classList.remove('hidden');
                portsToggle.classList.add('ports-visible');
                portsToggle.textContent = '▼';
                showToast('Ports Panel', 'System ports expanded');
            } else {
                portsPanel.classList.add('hidden');
                portsToggle.classList.remove('ports-visible');
                portsToggle.textContent = '▲';
                showToast('Ports Panel', 'System ports collapsed');
            }
        });

        function updateView() {
            sections.forEach((section, index) => {
                if (index === currentSection) {
                    section.classList.add('active');
                } else {
                    section.classList.remove('active');
                }
            });
            currentSectionDisplay.textContent = `${currentSection + 1}/${totalSections}`;

            const rotation = (currentSection / (totalSections - 1)) * 270 - 135;
            dialIndicator.style.setProperty('--rotation', `${rotation}deg`);
        }

        function getAngle(e, rect) {
            const centerX = rect.left + rect.width / 2;
            const centerY = rect.top + rect.height / 2;
            const clientX = e.clientX || (e.touches && e.touches[0].clientX);
            const clientY = e.clientY || (e.touches && e.touches[0].clientY);
            return Math.atan2(clientY - centerY, clientX - centerX) * (180 / Math.PI);
        }

        dial.addEventListener('mousedown', (e) => {
            isDragging = true;
            const rect = dial.getBoundingClientRect();
            startAngle = getAngle(e, rect);
        });

        dial.addEventListener('touchstart', (e) => {
            isDragging = true;
            const rect = dial.getBoundingClientRect();
            startAngle = getAngle(e, rect);
        });

        document.addEventListener('mousemove', (e) => {
            if (!isDragging) return;
            const rect = dial.getBoundingClientRect();
            const currentAngle = getAngle(e, rect);
            const delta = currentAngle - startAngle;

            if (Math.abs(delta) > 15) {
                if (delta > 0 && currentSection < totalSections - 1) {
                    currentSection++;
                    updateView();
                    startAngle = currentAngle;
                } else if (delta < 0 && currentSection > 0) {
                    currentSection--;
                    updateView();
                    startAngle = currentAngle;
                }
            }
        });

        document.addEventListener('touchmove', (e) => {
            if (!isDragging) return;
            const rect = dial.getBoundingClientRect();
            const currentAngle = getAngle(e, rect);
            const delta = currentAngle - startAngle;

            if (Math.abs(delta) > 15) {
                if (delta > 0 && currentSection < totalSections - 1) {
                    currentSection++;
                    updateView();
                    startAngle = currentAngle;
                } else if (delta < 0 && currentSection > 0) {
                    currentSection--;
                    updateView();
                    startAngle = currentAngle;
                }
            }
        });

        document.addEventListener('mouseup', () => {
            isDragging = false;
        });

        document.addEventListener('touchend', () => {
            isDragging = false;
        });

        dial.addEventListener('wheel', (e) => {
            e.preventDefault();
            if (e.deltaY > 0 && currentSection < totalSections - 1) {
                currentSection++;
                updateView();
            } else if (e.deltaY < 0 && currentSection > 0) {
                currentSection--;
                updateView();
            }
        });

        btnHome.addEventListener('click', () => {
            currentSection = 0;
            updateView();
        });

        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowUp' || e.key === 'w' || e.key === 'W' || e.key === 'ArrowLeft') {
                e.preventDefault();
                if (currentSection > 0) {
                    currentSection--;
                    updateView();
                }
            } else if (e.key === 'ArrowDown' || e.key === 's' || e.key === 'S' || e.key === 'ArrowRight') {
                e.preventDefault();
                if (currentSection < totalSections - 1) {
                    currentSection++;
                    updateView();
                }
            } else if (e.key === 'Home' || e.key === 'h' || e.key === 'H') {
                e.preventDefault();
                btnHome.click();
            }
        });

        document.querySelectorAll('.port').forEach(port => {
            port.addEventListener('click', () => {
                document.querySelectorAll('.port').forEach(p => p.classList.remove('active'));
                port.classList.add('active');
                const portType = port.dataset.port;
                const portValue = port.querySelector('.port-value').textContent;
                showToast('Port Activated', `${portType.toUpperCase()}: ${portValue}`);
            });
        });

        addPortBtn.addEventListener('click', () => {
            portModal.classList.add('active');
            portNameInput.value = '';
            portValueInput.value = '';
        });

        cancelPortBtn.addEventListener('click', () => {
            portModal.classList.remove('active');
        });

        savePortBtn.addEventListener('click', () => {
            const name = portNameInput.value.trim();
            const value = portValueInput.value.trim();

            if (name && value) {
                const newPort = document.createElement('div');
                newPort.className = 'port';
                newPort.dataset.port = name.toLowerCase().replace(/\s+/g, '-');
                newPort.innerHTML = `
                    <div class="port-label">${name}</div>
                    <div class="port-value">${value}</div>
                `;

                newPort.addEventListener('click', () => {
                    document.querySelectorAll('.port').forEach(p => p.classList.remove('active'));
                    newPort.classList.add('active');
                    showToast('Custom Port Activated', `${name}: ${value}`);
                });

                portsPanel.insertBefore(newPort, addPortBtn);
                portModal.classList.remove('active');
                showToast('Port Added', `New port "${name}" successfully registered`);
            }
        });

        updateView();
    </script>
</body>

</html>